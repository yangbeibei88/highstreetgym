{"version":3,"file":"src_components_ArticleForm_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAIA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;AChBA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA","sources":["webpack://hsg_frontend/./src/components/ArticleForm.js","webpack://hsg_frontend/./src/components/QuillEditor.js"],"sourcesContent":["import { QuillEditor } from \"./QuillEditor.js\";\n\nexport class ArticleForm {\n  constructor() {\n    this._articleEditorEl = document.getElementById(\"articleEditor\");\n    this._hiddenContentInput = document.getElementById(\"articleContent\");\n    this.editor();\n  }\n\n  editor() {\n    if (this._articleEditorEl) {\n      this.articleEditor = new QuillEditor(\n        this._articleEditorEl,\n        this._hiddenContentInput,\n      );\n    }\n  }\n}\n","import Quill from \"quill\";\n\nexport class QuillEditor {\n  constructor(editorEl, hiddenInputEl) {\n    this.editorEl = editorEl;\n    this.hiddenInputEl = hiddenInputEl;\n    this.editor = new Quill(this.editorEl, {\n      modules: {\n        toolbar: [\n          [\"bold\", \"italic\"],\n          [{ size: [\"small\", false, \"large\", \"huge\"] }],\n          [{ header: [2, 3, 4, 5, 6, false] }],\n          [\"link\", \"blockquote\", \"code-block\"],\n          [{ list: \"ordered\" }, { list: \"bullet\" }],\n          // remove format button\n          [\"clean\"],\n        ],\n      },\n      placeholder: \"Compose an epic...\",\n      theme: \"snow\",\n    });\n\n    // this.editor.getModule(\"toolbar\").addHandler(\"image\", () => {\n    //   this.selectLocalImage();\n    // });\n\n    // If there's initial content (e.g., sanitized HTML), set it in the editor\n    // if (initialContent) {\n    //   this.editor.clipboard.dangerouslyPasteHTML(initialContent);\n    // }\n\n    this.addOnEvent();\n  }\n\n  addOnEvent() {\n    this.editor.on(\"text-change\", this.assignValue.bind(this));\n  }\n\n  assignValue() {\n    this.hiddenInputEl.value = this.editor.root.innerHTML;\n  }\n\n  // selectLocalImage() {\n  //   const input = document.createElement(\"input\");\n  //   input.setAttribute(\"type\", \"file\");\n  //   input.setAttribute(\"accept\", \"image/*\");\n  //   input.click();\n\n  //   input.onchange = () => {\n  //     const file = input.files[0];\n  //     console.log(\"clicked image upload\");\n  //     if (/image\\//.test(file.type)) {\n  //       this.saveToServer(file);\n  //     } else {\n  //       window.alert(\"You can only upload images\");\n  //     }\n  //   };\n  // }\n\n  // // TODO: ADD TO SERVER\n  // async saveToServer(file) {\n  //   const formData = new FormData();\n  //   formData.append(\"image\", file);\n  //   try {\n  //     const res = await fetch(\"/images/blog\", {\n  //       method: \"POST\",\n  //       body: formData,\n  //     });\n\n  //     const data = await res.json();\n  //     if (data && data.url) {\n  //       this.insertToEditor(data.url);\n  //     }\n  //   } catch (error) {\n  //     console.error(\"Failed to upload image\", error);\n  //   }\n  // }\n\n  // insertToEditor(url) {\n  //   const range = this.editor.getSelection();\n  //   this.editor.insertEmbed(range.index, \"image\", url);\n  // }\n}\n"],"names":[],"sourceRoot":""}